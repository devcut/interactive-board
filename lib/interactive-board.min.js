!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).InteractiveBoard=t()}(this,(function(){"use strict";function e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function t(t){for(var a=1;a<arguments.length;a++){var o=null!=arguments[a]?arguments[a]:{};a%2?e(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function a(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}return function(){function e(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.config=t(t({},a),{},{board:t(t({},{element:".interactive-board",width:"100%",height:"100vh",background:"#000000"}),a.board),colors:t(t({},[]),a.colors),shape:t(t({},{width:18,height:18,margin:2,background:"#1d1d1d"}),a.shape),activateRandomShape:t(t({},{enabled:!1,time:500,duration:3e3}),a.activateRandomShape),pulse:t(t({},{enabled:!0}),a.pulse)}),this.boardElement=document.querySelector(this.config.board.element),this.boardElement.style.width=this.config.board.width,this.boardElement.style.height=this.config.board.height,this.boardElement.style.background=this.config.board.background,this.maxShapeCapacityX=0,this.maxShapeCapacityY=0}var n,o,i;return n=e,(o=[{key:"init",value:function(){var e=this;this.boardElement.classList.add("interactive-board-style"),document.addEventListener("DOMContentLoaded",(function(){e.createShape(e.boardElement.offsetWidth,e.boardElement.offsetHeight),e.activateRandomShape()})),window.addEventListener("resize",(function(){e.createShape(e.boardElement.offsetWidth,e.boardElement.offsetHeight)}))}},{key:"createShape",value:function(e,t){var a=this;this.boardElement.innerHTML="",this.maxShapeCapacityX=Math.floor(this.boardElement.offsetWidth/(this.config.shape.width+2*this.config.shape.margin)),this.maxShapeCapacityY=Math.floor(this.boardElement.offsetHeight/(this.config.shape.height+2*this.config.shape.margin));for(var n=function(e){var t=document.createElement("div");t.setAttribute("data-position",e+1),t.setAttribute("data-enabled",!0),t.style.width=a.config.shape.width+"px",t.style.height=a.config.shape.height+"px",t.style.margin=a.config.shape.margin+"px",t.style.background=a.config.shape.background,a.boardElement.appendChild(t),t.addEventListener("mouseover",(function(){a.setColor(t)})),t.addEventListener("mouseout",(function(){a.removeColor(t)})),a.config.pulse.enabled&&t.addEventListener("click",(function(){a.pulseShapeAnimation(t)}))},o=0;o<this.maxShapeCapacityX*this.maxShapeCapacityY;o++)n(o)}},{key:"getShapeColor",value:function(){return 0===Object.keys(this.config.colors).length?"#".concat(Math.floor(16777215*Math.random()).toString(16)):this.config.colors[Math.floor(Math.random()*Object.keys(this.config.colors).length)]}},{key:"setColor",value:function(e,t){"true"===e.getAttribute("data-enabled")&&(t||(t=this.getShapeColor()),e.style.background=t,e.style.boxShadow="0 0 2px ".concat(t,", 0 0 10px ").concat(t))}},{key:"removeColor",value:function(e){"true"===e.getAttribute("data-enabled")&&(e.style.background=this.config.shape.background,e.style.boxShadow="0 0 2px ".concat(this.config.shape.background))}},{key:"activateRandomShape",value:function(){if(this.config.activateRandomShape.enabled){var e=this;setInterval((function(){var t=Math.floor(1+Math.random()*e.boardElement.childElementCount),a=document.querySelector("".concat(e.config.board.element," > div:nth-child(").concat(t,")"));"true"===a.getAttribute("data-enabled")&&(e.setColor(a),setTimeout((function(){e.removeColor(a)}),e.config.activateRandomShape.duration))}),this.config.activateRandomShape.time)}}},{key:"pulseShapeAnimation",value:function(e){for(var t=this,a=this.getShapeInformation(e),n=function(e){var n=t;if(a.shapePulsePosition[e]){var o=document.querySelector("".concat(n.config.board.element," > div:nth-child(").concat(a.shapePulsePosition[e],")"));n.setColor(o,a.shape.color),o.setAttribute("data-enabled",!1),setTimeout((function(){o.setAttribute("data-enabled",!0),n.removeColor(o)}),1e3)}},o=0;o<Object.keys(a.shapePulsePosition).length;o++)n(o)}},{key:"getShapeInformation",value:function(e){var t=parseInt(e.getAttribute("data-position"));return{shape:{color:this.rgb2hex(e.style.background),position:t},shapePulsePosition:{0:t-this.maxShapeCapacityX+1>=0?t-this.maxShapeCapacityX+1:null,1:t-this.maxShapeCapacityX>=0?t-this.maxShapeCapacityX:null,2:t-this.maxShapeCapacityX-1>=0?t-this.maxShapeCapacityX-1:null,3:t>=0?t:null,4:t+1>=0?t+1:null,5:t-1>=0?t-1:null,6:t+this.maxShapeCapacityX+1>=0?t+this.maxShapeCapacityX+1:null,7:t+this.maxShapeCapacityX>=0?t+this.maxShapeCapacityX:null,8:t+this.maxShapeCapacityX-1>=0?t+this.maxShapeCapacityX-1:null}}}},{key:"rgb2hex",value:function(e){return"#".concat(e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/).slice(1).map((function(e){return parseInt(e,10).toString(16).padStart(2,"0")})).join(""))}}])&&a(n.prototype,o),i&&a(n,i),e}()}));
